# Configuration for Cell-Type Conditioned SEDD Perturbation Prediction - Medium Model
# Task: perturbation label + cell-type label -> perturbed cell expression

# Model architecture
model:
  name: SEDDCellTypePerturbationTransformerMedium
  size: medium
  hidden_dim: 256
  num_layers: 6
  num_heads: 8
  dropout: 0.1

# Data parameters
data:
  train_data_path: null  # Set via CLI or environment variable
  gene: gene
  cell_type_col: cell_type
  control_name: non-targeting
  val_fraction: 0.1
  loader_path: null
  cond_labels_pt_path: null
  celltype_labels_pt_path: null

# Training hyperparameters
training:
  batch_size: 32
  num_epochs: 100
  learning_rate: 5.0e-5
  weight_decay: 0.01
  mask_ratio: 0.15
  gradient_clip: 1.0
  optimizer:
    type: AdamW
    betas: [0.9, 0.999]

# Checkpoint and logging
checkpointing:
  checkpoint_dir: experiments/celltype_perturbseq_medium
  save_interval: 10
  resume: null

logging:
  log_interval: 10
  val_interval: 1

# Inference parameters
inference:
  cell_type: null
  perturbations: null
  perturbations_file: null
  num_samples_per_condition: 100
  num_steps: 50
  temperature: 1.0
  sampler: euler
  batch_size: 32

# Other parameters
other:
  seed: 42
  num_workers: 4

# Diffusion-specific parameters
diffusion:
  noise_schedule: LogLinearNoise
  noise_eps: 1.0e-3
  graph_type: AbsorbingGraph
